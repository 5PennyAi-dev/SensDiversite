@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Theme: Atelier Vivant (Dark Cineastic) */
    
    /* Backgrounds: Rich Charcoal / Warm Deep Black */
    --background: 24 6% 6%;    /* #0f0e0d - Warm almost-black */
    --card: 24 4% 10%;         /* #1c1a19 - Slightly lighter warm grey */
    
    /* Foreground / Text */
    --foreground: 30 10% 92%;  /* #efedea - Warm off-white (Paper) */
    --muted: 30 4% 60%;        /* #9e9b98 */
    --muted-foreground: 24 4% 45%; /* #75716e */
    
    /* Accents */
    --primary: 38 45% 65%;     /* #cbb387 - Antique Gold */
    --primary-foreground: 24 6% 6%;
    
    --secondary: 24 4% 14%;    /* #262423 */
    --secondary-foreground: 30 10% 92%;
    
    --accent: 355 45% 25%;     /* #8f232e - Deep Burgundy/Wine (New!) */
    --accent-foreground: 30 10% 92%;
    
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 24 3% 20%;       /* #363432 */
    --input: 24 3% 20%;
    --ring: 38 45% 65%;
    
    --radius: 0.5rem;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  html {
    scroll-behavior: smooth;
    @apply bg-background;
  }
  
  body {
    @apply bg-background text-foreground relative min-h-screen;
  }
  
  /* Texture Overlay using Pseudo-element for better performance */
  body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 50;
    opacity: 0.04; /* Delicate grain */
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    mix-blend-mode: overlay;
  }

  /* Accessibility: Visible Focus Ring */
  :focus-visible {
    @apply outline-none ring-2 ring-primary ring-offset-2 ring-offset-background;
  }
  
  /* Typography Utilities */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  .bg-noise {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  }
  
  /* Glass effect for cards */
  .glass-card {
    @apply bg-card/40 backdrop-blur-sm border border-white/5 shadow-2xl;
  }
  

  /* Cinematic Glow */
  .glow-hover {
    @apply transition-all duration-500 ease-out hover:shadow-[0_0_30px_-5px_theme(colors.primary)] hover:border-primary/20;
  }

  /* --- Nouveau : Blocs de Layout pour RÃ©flexions --- */

  /* 2 Colonnes */
  .layout-cols-2 {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    margin-bottom: 2rem;
    align-items: center;
  }
  @media (min-width: 768px) {
    .layout-cols-2 {
      grid-template-columns: 1fr 1fr;
    }
  }

  /* Exergue (Pull Quote) */
  .layout-exergue {
    font-family: var(--font-display);
    font-size: 1.5rem;
    line-height: 1.4;
    color: theme('colors.primary');
    border-top: 1px solid theme('colors.primary');
    border-bottom: 1px solid theme('colors.primary');
    padding: 2rem 0;
    margin: 3rem 0;
    text-align: center;
    font-style: italic;
  }

  /* Note / Callout */
  .layout-note {
    background: rgba(255, 255, 255, 0.03);
    border-left: 3px solid theme('colors.primary');
    padding: 1.5rem;
    margin: 2rem 0;
    border-radius: 0 0.5rem 0.5rem 0;
    font-size: 0.95rem;
    color: theme('colors.gray.300');
  }
  .layout-note strong {
    color: theme('colors.primary');
    display: block;
    margin-bottom: 0.5rem;
  }

  /* Gallery Grid (2 images side by side) */
  .layout-gallery-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin: 2rem 0;
  }
  .layout-gallery-grid img {
    margin: 0 !important; /* Override prose margin */
    width: 100%;
    height: 100%;
    object-fit: cover;
    aspect-ratio: 4/5;
    border-radius: 0.5rem;
  }
}
